{% extends "layout.html" %}

{% block pageTitle %}
Access to Work Claiming Portal
{% endblock %}

{% set travelLength %}
{{ data.travel | length }}
{% endset %}

{% set taxiTotal = 0 %}
{% for day in data.travel %}
{% set taxiTotal = taxiTotal | float + day.travel_journeys | float %}
{% else %}
{% set taxiTotal = 0 | float %}
{% endfor %}

{% set taxiTotal = 0 %}
{% for day in data.travel %}
{% set taxiTotal = taxiTotal | float + day.travel_cost | float %}
{% else %}
{% set taxiTotal = 0 | float %}
{% endfor %}

{% set repeattaxiTotal = 0 %}
{% for day in data.repeattravel %}
{% set repeattaxiTotal = repeattaxiTotal | float + day.repeattravel_cost | float %}
{% else %}
{% set repeattaxiTotal = 0 | float %}
{% endfor %}


{% block content %}


<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <form action="taxi-cost-answer" method="post" class="form">

          {% if data['transport-option'] == "taxi" %}
            <div class="govuk-form-group">
              {% if taxiTotal === 1 %}
              <h1 class="govuk-label-wrapper"><label class="govuk-label govuk-label--l" for="cost-of-taxi">
                How much did the taxi journey you’re claiming for cost in total?
                </<label>
              </h1>
              {% else %}
              <h1 class="govuk-label-wrapper"><label class="govuk-label govuk-label--l" for="cost-of-taxi">
                How much did the taxi journeys you’re claiming for cost in total?
                </<label>
              </h1>
              {% endif %}


                <p>You’ll find the total cost for each journey on the taxi receipt or invoice. You’ll need to add up the cost of each journey to get the total.</p>

                <div class="govuk-input__wrapper">
                    <div class="govuk-input__prefix" aria-hidden="true">£</div>
                    <input class="govuk-input govuk-input--width-5" id="cost-of-taxi" name="cost-of-taxi"
                           type="text" spellcheck="false">
                </div>
            </div>

          {% else %}

          <div class="govuk-form-group">

            <h1 class="govuk-label-wrapper"><label class="govuk-label govuk-label--l" for="cost-of-taxi">
              You’ve told us the total cost of the taxi journeys you’re claiming for is £{{taxiTotal + repeattaxiTotal}}
              </<label>
            </h1>



              <p>This is the total cost of all the taxi journeys during work hours that you’ve told us you want to claim for.</p>


          </div>

          {% endif %}

            <button type="submit" class="govuk-button" data-module="govuk-button">
                Continue
            </button>

        </form>
    </div>
</div>


{% endblock %}
